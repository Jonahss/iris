<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
 <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Todo App tutorial using Iris</title>
  <meta name="description" content="">
  <meta name="author" content="Javier PÃ©rez">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="styles/reveal.css">
		<link rel="stylesheet" href="styles/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="styles/zenburn.css">

  <link rel="stylesheet" href="styles/normalize.css">
  <link rel="stylesheet" href="styles/foundation.css">
  <link rel="stylesheet" href="styles/codemirror.css">
  <link rel="stylesheet" href="styles/solarized.css">
  <link rel="stylesheet" href="styles/cm-movie.css">
  <link rel="stylesheet" href="styles/main.css">

  <script src="scripts/vendor/custom.modernizr.js"></script>
  <script src="scripts/vendor/codemirror.js"></script>
  <script src="scripts/vendor/javascript.js"></script>
  <script src="scripts/vendor/xml.js"></script>
  <script src="scripts/vendor/cm-movie-full.js"></script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
 </head>
 <body>

  <div class="reveal">

   <div class="slides">
    <section>
     <div class="columns small-4 small-centered">
      <img src="images/iris.png" style="vertical-align: middle;"/>
     </div>
     <br>
     <div class="columns small-12">
      <h2 class="subheader">Client-side optimization techniques for easily building fast and scalable web applications</h2>
     </div>
     <div class="columns small-4 small-offset-8">
      <ul class="vcard">
       <li class="fn"><a target="_blank" href="http://www.thegameofcode.com/">thegameofcode</a></li>
       <li>April, 2013</li>
       <li class="email"><a target="_blank" href="https://github.com/thegameofcode/iris">Iris</a></li>
      </ul>
     </div>
    </section>
    <section>
     <h1>Features</h1>
     <ul style ="font-size: 30px;line-height: 1.5">
      <li>Strong object oriented coding and file system organization</li>
      <li>Presenter-View-Resource pattern</li>
      <li>Easy and fast templating engine</li>
      <li>One page navigation using Hash-URL</li>
      <li>100% Client multilanguage support</li>
      <li>Crossbrowser: Chrome, Firefox e Internet Explorer</li>
      <li>Light and fast: 16 KB</li>
      <li>Open source: New BSD License</li>
     </ul>
    </section>
    <section>
     <div id="todo">
      <span class="try">This is an example of a</span>
      <h1>Todo App</h1>
      <span class="footnote">using Iris</span>
     </div>
    </section>
    <section>
     <div style="font-size: 2em;">With a <strong><a target="_blank" href="http://thegameofcode.github.io/iris/examples/todo-list/index.html">Todo App</a></strong> you can add <strong>tasks</strong> and check them when completed.</div>
     <br>
     <img src="images/todo_app.png" alt="Todo App" width="800" height="587">
    </section>
    <section>
     <section>
      <h2><kbd>Preparing</kbd> the enviroment</h2>
      <h3>The first step is to create an <kbd>index.html</kbd> page and an <kbd>init.js</kbd> script</h3>
     </section>
     <section>
      <h2>Let's start with the <kbd>index.html</kbd> page</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='index-button'>Play</button>
       </div>
      </div>
<textarea data-cm-theme="solarized" name="index-movie" id="index-movie" cols="100" rows="30" data-cm-mode="text/html">
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset='utf-8'&gt;

&lt;title&gt;Todo list&lt;/title&gt;

&lt;script src='|jquery.min.js'&gt;&lt;/script&gt;

&lt;script src='iris.js'&gt;&lt;/script&gt;



&lt;/head&gt;
&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;
@@@
tooltip: {text: 'JQuery Dependency', wait: 2000} ::: Add JQuery Dependency
run: {command: 'goLineDown', times: 2, beforeDelay: 0}
run: {command: 'goLineStart', beforeDelay: 0}
run: {command: 'goWordRight', times: 3, beforeDelay: 0}
tooltip: {text: 'Iris Library', wait: 2000} ::: Add Iris Library Dependency
run: {command: 'goLineDown', times: 2, beforeDelay: 0}
type: {text: "<script src='init.js'></script>"} ::: Add Init Script
run: {command: 'goWordLeft', times: 2, beforeDelay: 0}
tooltip: {text: 'Init Script'}
run: {command: 'goDocEnd', times: 1, beforeDelay: 0}
run: {command: 'goLineUp', times: 2, beforeDelay: 0}
run: {command: 'goLineStart', beforeDelay: 0}
tooltip: {text: 'Empty Body'} ::: Leave the body without content
</textarea>
     </section>
     <section>
      <h2>The <kbd>init.js</kbd> script</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='init-button'>Play</button>
       </div>
      </div>
<textarea data-cm-theme="solarized" name="init-movie" id="init-movie" cols="100" rows="30" data-cm-mode="text/javascript">
|
@@@
type: {text: "iris.path = {\n};"} ::: Define de iris.path object
tooltip: {text: 'iris.path defines all Iris components', pos: "0:4"}
run: { command: "goLineUp", beforeDelay: 0 }
run: { command: "goLineEnd", beforeDelay: 0 }
type: {text: "\n welcome : 'app/screen/welcome.js',\n"} ::: Define the Welcome Screen
type: {text: " welcome_tmpl : 'app/screen/welcome.html'"}
tooltip: {text: 'Each Screen has two elements: the presenter and the template', pos: "1:4"}
type: {text: ",\n todo_item : 'app/ui/todo_item.js',\n"} ::: Define the Todo UI
type: {text: " todo_item_tmpl : 'app/ui/todo_item.html'"}
tooltip: {text: 'The same as every UI component', pos: "3:4"}
run: { command: "goDocEnd", beforeDelay: 0 }
run: { command: "goLineEnd", beforeDelay: 0 }
type: {text: "\n\n$(document).ready(function() {"} ::: Entry point
type: {text: "\n iris.welcome(iris.path.welcome);"}
type: {text: "\n});"}
tooltip: {text: 'Calling the iris.welcome() method', pos: "8:4"}
</textarea>
     </section>
    </section>
    <section>
     <section>
      <h2>The <kbd>Welcome</kbd> Screen</h2>
     </section>
     <section>
      <h2>The template of <kbd>Welcome Screen</kbd> (welcome.html)</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='welcome_template-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="welcome_template-movie" id="welcome_template-movie" cols="100" rows="30" data-cm-mode="text/html">
|
@@@
type: {text: "<div>\n\n</div>"} ::: Empty Div
tooltip: {text: 'Start with an empty \"div\"', pos: "0:5"}
run: { command: "goLineUp", beforeDelay: 0 }
run: { command: "goLineStart", beforeDelay: 0 }
type: {text: " <input data-id='new-todo' placeholder='What needs to be done?'>"} ::: TextBox to add tasks
tooltip: {text: 'The \"data-id\" attribute is used to handle the component in the presenter', pos: "1:12"}
type: {text: "\n <label>\n  Mark all as complete"} ::: To check all taks
type: {text: "\n  <input data-id='toggle-all' type='checkbox'>"}
type: {text: "\n </label>"}
tooltip: {text: 'Checkbox to check/uncheck all tasks', pos: "4:20"}
type: {text: "\n <ul id='todo-list' data-id='todo-list'></ul>"} ::: To contains the tasks
tooltip: {text: 'The list will contain the Todo_item UIs', pos: "5:10"}
type: {text: "\n <ul data-id='filters'>"} ::: To filter tasks
type: {text: "\n  <li><a href='#?filter=all'>All</a></li>", delay: 20}
type: {text: "\n  <li><a href='#?filter=active'>Active</a></li>", delay: 20}
type: {text: "\n  <li><a href='#?filter=completed'>Completed</a></li>", delay: 20}
type: {text: "\n </ul>"}
tooltip: {text: 'When click, It will navigate to Welcome Screen with a \"filter\" parameter', pos: "8:10", wait: 4000}
type: {text: "\n <button data-id='clear-completed'/>"} ::: To clear tasks completed
tooltip: {text: 'To clear tasks completed', pos: "12:10"}
</textarea>
     </section>
     <section>
      <h2>The presenter of <kbd>Welcome Screen</kbd> (welcome.js)</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='welcome_presenter-button'>Play</button>
       </div>
      </div>
<textarea data-cm-theme="solarized" name="welcome_presenter-movie" id="welcome_presenter-movie" cols="100" rows="30" data-cm-mode="text/javascript">
|
@@@
type: {text: "//In welcome.js"} ::: Calling iris.screen()
type: {text: "\niris.screen( ... , ... );"}
tooltip: {text: 'iris.screen receives two parameters', pos: "1:4"}
select: {from: "1:12", to: "1:17"}
type: {text: " function(self) {\n}"}
tooltip: {text: 'The first is the lifecycle function (more later)', pos: "1:15", wait: 4000}
select: {from: "2:3", to: "2:7"}
type: {text: "iris.path.welcome"}
tooltip: {text: 'The second is the corresponding value in the iris.path variable', pos: "2:7", wait: 4000}
prompt: {title: "Who is the \"self\" variable?", typeDelay: 2000, hideDelay: 4000, text: "It's the Screen cretated by Iris."}
prompt: {title: "What is the second parameter for?", typeDelay: 2000, hideDelay: 4000, text: "For Minification and debugging."}
moveTo: {pos: "1:29"}
type: {delay: 10, text: "\n\n var newTodo, setAllBtn, clearCompletedBtn, todoLeft = 0, numTodos = 0, completeAllShowed = false, filters;\n"}
type: {text: "\n self.create = function() {\n };\n"} ::: Defining the lifecycle methods
type: {text: "\n self.awake = function() {\n };\n"}
tooltip: {text: '\"self.create()\" and \"self.awake()\" are two methods of the component lifecycle', pos: "5:13", wait: 4000}
tooltip: {text: '\"self.create()\" is called only once when the component is created', pos: "5:7", wait: 4000}
tooltip: {text: '\"self.awake()\" is called each time the component is activated', pos: "8:7", wait: 4000}
moveTo: {pos: "8:23"}
type: {text: "params"}
tooltip: {text: '\"self.awake()\" can receive queryString parameters', pos: "8:23"}
moveTo: {pos: "6:0"}
type: {text: "\n\n"}
run: { command: "goLineUp", times:2, beforeDelay: 0 }
type: {text: "\n  self.tmpl(iris.path.welcome_tmpl);\n"} ::: Calling iris.template()
tooltip: {text: '\"self.tmpl()\" loads the template in the DOM. In this case, in the \"body\" element', pos: "7:7"}
type: {text: "\n  newTodo = self.get('new-todo').on('keyup', newTodoOnKeyUp);"} ::: Calling self.get()
tooltip: {text: '\"self.get()\" retrieves the JQuery object from the template whose \"data-id\" matches with the parameter', pos: "9:17"}
type: {delay:10, text: "\n  setAllBtn = self.get('toggle-all').on('click', setAll);"} ::: Assigning JQuery events handlers
type: {delay:10, text: "\n  clearCompletedBtn = self.get('clear-completed').on('click', clearCompleted);"}
type: {delay:10, text: "\n  filters = self.get('filters').on('click', onFiltersClick);"}
tooltip: {text: 'Now we assing the JQuery event handlers', pos: "9:8"}
type: {text: "\n\n  self.on('destroy-todo', onDestroyTodo);"} ::: Assigning Iris events handlers
type: {text: "\n  self.on('toggle-todo', onToggleTodo);"}
tooltip: {text: 'With \"self.on()\" the component can listening for an Iris event', pos: "14:6"}
moveTo: {pos: "20:0"} ::: Notifying filter tasks 
type: {text: "\n"}
run: { command: "goLineUp", beforeDelay: 0 }
type: {text: "  if ( params !== undefined && params.hasOwnProperty('filter') ) {\n  }"}
tooltip: {text: 'Here, we check if there is a \"filter\" parameter in the QueryString', pos: "20:10"}
moveTo: {pos: "21:0"}
type: {text: "\n"}
run: { command: "goLineUp", beforeDelay: 0 }
type: {text: "   self.notify('filter-todos', params.filter);"}
tooltip: {text: 'With \"self.notify\" whe can notify an Iris event passing some parameters to the handler', pos: "20:10"}
moveTo: {pos: "16:0"} ::: Rendering components 
type: {text: "\n  render();"}
moveTo: {pos: "26:0"}
type: {delay: 1, text: "\n function render () {\n  ...\n }\n\n"}
tooltip: {wait: 4000, text: 'The render function just hides o shows the DOM elements according to the app state', pos: '27:8'}
</textarea>
     </section>
    </section>
    <section>
     <section>
      <h2><kbd>Adding</kbd> a Todo Item UI</h2>
      <h3>At the next few steps we are going to explain how to add a Todo Item.</br>
     </section>
     <section>
      <h2>Let's start with the <kbd>Todo Item UI template</kbd></h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='todo_template-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="todo_template-movie" id="todo_template-movie" cols="100" rows="30" data-cm-mode="text/html">
|
@@@
type: {text: "<li>\n</li>"} ::: Li Element
tooltip: {wait: 4000, text: 'The Todo Items will be added in a list defined in the Welcome Screen, as you surely remember', pos: "0:4"}
run: { command: "goLineUp", beforeDelay: 0 }
type: {text: "\n <input data-id='check' type='checkbox'>"} ::: Checkbox Element
tooltip: {text: 'A checkbox to allow us to check or uncheck the task', pos: "1:4"}
type: {text: "\n <label data-model='text'></label>"} ::: Label Element
tooltip: {text: 'A label to show the text of the task', pos: "2:4"}
type: {text: "\n <button data-id='destroy'></button>"} ::: Button Element
tooltip: {text: 'A button to destroy the task', pos: "3:4"}
type: {text: "\n <input data-id='text' data-model='text' value=''>"} ::: Textbox Element
tooltip: {text: 'A textbox to edit the task', pos: "4:4"}
tooltip: {text: 'The \"data-model\" attribute allows you to pass parameters from the presenter (more later)', pos: "4:27"}
</textarea>
     </section>
     <section>
      <h2>The <kbd>Todo Item UI presenter</kbd> (todo_item.js)</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='todo_presenter-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="todo_presenter-movie" id="todo_presenter-movie" cols="100" rows="30" data-cm-mode="text/javascript">
iris.ui(function (self) {

|
 
 self.create = function() {
   
  
  self.tmpl(iris.path.todo_item_tmpl);

  self.get("check").on("click", toggle);
  self.get("destroy").on("click", destroyTodo);

  self.on("set-all-todos", onSetAllTodos);
  self.on("clear-completed", onClearCompleted);
  self.on("filter-todos", onFilter);

  self.get().on("dblclick", edit);
  self.get("text").on("change", onTextBlur);

  self.get().hide().fadeIn("slow");

 };

 ...

},iris.path.todo_item);
@@@
tooltip: {wait: 4000, text: 'We started in a similar way as the Welcome Screen', pos: "0:4"} ::: Intro
type: {text: "\n self.settings({\n  completed : false\n }"} ::: self.settings
tooltip: {wait: 4000, text: '\"self.settings\" allows us to store a JavaScript object in the component', pos: "3:5"}
moveTo: {pos: "9:0"}
type: {text: "  self.tmplMode(self.APPEND);"} ::: self.tmplMode
tooltip: {wait: 4000, text: 'With \"self.tmplMode(self.APPEND)\" we are telling Iris that several UIs can be stored in the container (ul)', pos: "9:7"}
</textarea>
     </section>
     <section>
      <h2><kbd>Creating</kbd> a Todo Item</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='welcome_add-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="welcome_add-movie" id="welcome_add-movie" cols="100" rows="30" data-cm-mode="text/javascript">
//In welcome.js
iris.screen(function(self) {
 self.create = function() {  
  ...
  newTodo = self.get("new-todo").on("keyup", newTodoOnKeyUp);
  ...
 }
 ...
}, iris.path.welcome);
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
moveTo: {pos: "7:0"}
type: {text: "\n"}
run: { command: "goLineUp", beforeDelay: 0 }
type: {text: " function newTodoOnKeyUp (e) {\n  if ( e.keyCode === 13 ) {\n   var ui = self.ui('todo-list', iris.path.todo_item);\n   ui.inflate({ text: newTodo.val() });\n  }\n }\n"}
tooltip: {wait: 2000, text: 'The \"self.ui()\" method creates a new UI', pos: "9:17"} ::: self.ui
tooltip: {wait: 3000, text: 'It takes two mandatory parameters and two optional', pos: "9:17"}
tooltip: {wait: 3000, text: 'The first mandatory parameter is the UI container', pos: "9:25"}
tooltip: {wait: 3000, text: 'The other mandatory parameter is the UI presenter file', pos: "9:42"}
tooltip: {wait: 6000, text: 'The optional parameters are the settings object pass to the UI and the template mode, of which we already talked about before', pos: "9:17"}
tooltip: {wait: 4000, text: 'The \"self.ui()\" method returns the UI created by iris', pos: "9:7"} ::: ui.inflate
tooltip: {wait: 4000, text: 'The \"ui.inflate()\" method allows to pass a JavaScript object to the template', pos: "10:6"}
tooltip: {wait: 8000, text: 'Iris will look for those DOM elements of the component whose attribute \"data-model\" matches any attribute of the object passed to the method ...', pos: "10:6"}
tooltip: {wait: 6000, text: '... And It will replace their contents with the new value', pos: "10:6"}
tooltip: {wait: 8000, text: 'In this case, the content of the DOM elements with \"data-model\" attribute equal to \"text\" will be the task name introduced by the user', pos: "10:6"}
</textarea>
     </section>
    </section>
    <section>
     <section>
      <h2><kbd>Checking</kbd> Todo Items</h2>
      <h3>At these few steps we are going to explain how to <kbd>check/uncheck</kbd> Todo Items.</br></h3>
     </section>
     <section>
      <h2>Checking/Unchecking a <kbd>single</kbd> Todo Item</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='todo_check-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="todo_check-movie" id="todo_check-movie" cols="100" rows="30" data-cm-mode="text/javascript">
//In todo_item.js
iris.ui(function (self) {
  ...
  self.create = function() {
  ...
  self.get("check").on("click", toggle);
  ...
 };

},iris.path.todo_item);
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
moveTo: {pos: "8:0"}
type: {text: " function toggle () {\n  self.setting('completed', !self.setting('completed'));\n  self.get().toggleClass('completed');\n  self.get('check').attr('checked', self.setting('completed'));\n  self.notify('toggle-todo', self.setting('completed'));\n }"} ::: self.setting()
tooltip: {wait: 4000, text: 'Almost all of this we have already explained', pos: "8:10"}
tooltip: {wait: 4000, text: 'The \"self.setting()\" method is similar to \"self.settings()\" and allows us to store a value in the component ...', pos: "9:12"}
tooltip: {wait: 4000, text: '... or retrieve it', pos: "9:35"}
</textarea>
     </section>
     <section>
      <h2>Checking/Unchecking <kbd>all</kbd>  Todo Items</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='checkAll-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="checkAll-movie" id="checkAll-movie" cols="100" rows="30" data-cm-mode="text/javascript">
//In welcome.js
iris.screen(function(self) {
 self.create = function() {  
  ...
  setAllBtn = self.get('toggle-all').on('click', setAll);
  ...
 }
 ...
}, iris.path.welcome);
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
moveTo: {pos: "7:0"}
type: {text: "\n"}
run: { command: "goLineUp", beforeDelay: 0 }
type: {text: " function setAll () {\n  self.notify('set-all-todos', completeAllShowed);\n }"}
tooltip: {wait: 4000, text: 'We just notify the event', pos: "8:10"}
tooltip: {wait: 4000, text: 'The \"completeAllShowed\" variable controls whether to check or uncheck the todos', pos: "8:40"}
run: {command: "selectAll", beforeDelay: 0}
type: {text: "//In todo_item.js"} ::: todo_item.js
type: {text: "\niris.ui(function(self) {", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n self.create = function() {", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n  self.on('set-all-todos', onSetAllTodos);", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n }", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n}, iris.path.todo_item);", delay: 10}
tooltip: {wait: 4000, text: 'We assign the event handler function', pos: "5:35"}
moveTo: {pos: "8:0"}
type: {text: "\n", delay: 10}
run: {command: "goLineUp", beforeDelay: 0}
type: {text: "\n function onSetAllTodos (isCheck) {"}
type: {text: "\n  if ( self.setting('completed') !== isCheck ) {"}
type: {text: "\n   toggle();"}
type: {text: "\n  }"}
type: {text: "\n }"}
tooltip: {wait: 4000, text: 'If the todo does not have the correct state, we call to the \"toggle()\" function previously explained', pos: "9:15"}
</textarea>
     </section>
    </section>
    <section>
     <section>
      <h2><kbd>Deleting</kbd> Todo Items</h2>
      <h3>At this step we are going to explain how to <kbd>delete</kbd> Todo Items.</br></h3>
     </section>
     <section>
      <h2>Deleting a <kbd>single</kbd> Todo Item</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='todo_destroy-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="todo_destroy-movie" id="todo_destroy-movie" cols="100" rows="30" data-cm-mode="text/javascript">
//In todo_item.js
iris.ui(function (self) {
  ...
  self.create = function() {
  ...
  self.get('destroy').on('click', destroyTodo);
  ...
 };

}, iris.path.todo_item);
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
moveTo: {pos: "8:0"}
type: {text: " function destroyTodo () {\n  self.notify('destroy-todo', self);\n }"} ::: self.notify()
tooltip: {wait: 4000, text: 'We just notify the event ...', pos: "8:10"}
tooltip: {wait: 4000, text: '... passing the UI component itself', pos: "9:32"}
run: {command: "selectAll", beforeDelay: 0}
type: {text: "//In welcome.js"} ::: self.destroyUI()
type: {text: "\niris.screen(function(self) {", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n self.create = function() {", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n  self.on('destroy-todo', onDestroyTodo);", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n }", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n}, iris.path.welcome);", delay: 10}
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"}
moveTo: {pos: "8:0"}
type: {text: "\n", delay: 10}
run: {command: "goLineUp", beforeDelay: 0}
type: {text: "\n function onDestroyTodo (todo) {"}
type: {text: "\n  ..."}
type: {text: "\n  self.destroyUI(todo);"}
type: {text: "\n  ..."}
type: {text: "\n }"}
tooltip: {wait: 4000, text: 'The \"destroyUI()\" method destroys the UI passed as a parameter', pos: "11:9"}
run: {command: "selectAll", beforeDelay: 0}
type: {text: "//In todo_item.js"} ::: Alternative way
tooltip: {wait: 4000, text: 'An alternative way and much simpler to do the same is just ...', pos: "0:4"}
type: {text: "\niris.ui(function(self) {", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n self.create = function() {", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n  self.get('destroy').on('click', destroyTodo);", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n }", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n}, iris.path.todo_item);", delay: 10}
moveTo: {pos: "8:0"}
type: {text: "\n", delay: 10}
run: {command: "goLineUp", beforeDelay: 0}
type: {text: "\n function destroyTodo() {"}
type: {text: "\n  ..."}
type: {text: "\n  self.destroyUI();"}
type: {text: "\n  ..."}
type: {text: "\n }"}
tooltip: {wait: 4000, text: 'The \"destroyUI()\" method with no arguments destroys the UI itself', pos: "11:9"}
</textarea>
     </section>
     <section>
      <h2>Deleting <kbd>all completed</kbd> Todo Items</h2>
      <hr>
      <div class="row">
       <div class="columns small-12">
        <button class="button radius success" id='clearComleted-button'>Play</button>
       </div>
      </div>
<textarea disabled data-cm-theme="solarized" name="clearComleted-movie" id="clearComleted-movie" cols="100" rows="30" data-cm-mode="text/javascript">
//In welcome.js
iris.screen(function(self) {
 self.create = function() {  
  ...
  self.get('clear-completed').on('click', clearCompleted);
  ...
 }
 ...
}, iris.path.welcome);
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
moveTo: {pos: "7:0"}
type: {text: "\n"}
run: { command: "goLineUp", beforeDelay: 0 }
type: {text: " function clearCompleted () {\n  self.notify('clear-completed');\n }"}
tooltip: {wait: 4000, text: 'We just notify the event', pos: "8:10"}
run: {command: "selectAll", beforeDelay: 0}
type: {text: "//In todo_item.js"} ::: todo_item.js
type: {text: "\niris.ui(function(self) {", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n self.create = function() {", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n  self.on('clear-completed', onClearCompleted);", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n }", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n}, iris.path.todo_item);", delay: 10}
tooltip: {wait: 4000, text: 'We assign the event handler function', pos: "5:35"}
moveTo: {pos: "8:0"}
type: {text: "\n", delay: 10}
run: {command: "goLineUp", beforeDelay: 0}
type: {text: "\n function onClearCompleted () {"}
type: {text: "\n  if ( self.setting('completed') ) {"}
type: {text: "\n   destroyTodo();"}
type: {text: "\n  }"}
type: {text: "\n }"}
tooltip: {wait: 4000, text: 'If the todo is completed, we call to the \destroyTodo()\" function previously explained', pos: "9:9"}
</textarea>
     </section>
    </section>
    <section>
     <h2><kbd>Editing</kbd> a Todo Item</h2>
     <hr>
     <div class="row">
      <div class="columns small-12">
       <button class="button radius success" id='todo_edit-button'>Play</button>
      </div>
     </div>
<textarea disabled data-cm-theme="solarized" name="todo_edit-movie" id="todo_edit-movie" cols="100" rows="30" data-cm-mode="text/javascript">
//In todo_item.js
iris.ui(function (self) {
  ...
  self.create = function() {
  ...
  self.get().on('dblclick', edit);
  ...
 };

}, iris.path.todo_item);
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
moveTo: {pos: "8:0"}
type: {text: " function edit () {\n  self.get().addClass('editing');\n  self.get('text').select();\n }"}
tooltip: {wait: 4000, text: 'Nothing new here ...', pos: "8:10"}
type: {text: "\n function onTextBlur () {\n  self.get().removeClass('editing');\n  self.inflate({text:self.get('text').val()});\n }"} ::: self.inflate
tooltip: {wait: 4000, text: 'With the \"self.inflate\" method we update the template as we explained previously', pos: "14:10"}
</textarea>
    </section>
    <section>
     <h2><kbd>Filtering</kbd> todos</h2>
     <hr>
     <div class="row">
      <div class="columns small-12">
       <button class="button radius success" id='todo_filter-button'>Play</button>
      </div>
     </div>
<textarea disabled data-cm-theme="solarized" name="todo_filter-movie" id="todo_filter-movie" cols="100" rows="30" data-cm-mode="text/html">
<!--In welcome.html-->
<div>
 ... 
 <ul data-id='filters'>
  <li><a href='#?filter=all'>All</a></li>
  <li><a href='#?filter=active'>Active</a></li>
  <li><a href='#?filter=completed'>Completed</a></li>
 </ul>
 ...
</div>
@@@
tooltip: {wait: 4000, text: 'Remember...', pos: "0:4"} ::: Intro
tooltip: {wait: 4000, text: 'When we click on a link, Iris will call the \"awake\" method of the Welcome Screen', pos: "4:20"}
run: {command: "selectAll", beforeDelay: 0}
type: {text: "//In welcome.js"} ::: self.awake()
type: {text: "\niris.screen(function(self) {", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n self.awake = function(params) {", delay: 10}
type: {text: "\n  if ( params !== undefined && params.hasOwnProperty('filter') ) {", delay: 10}
type: {text: "\n   self.notify('filter-todos', params.filter);", delay: 10}
type: {text: "\n  }", delay: 10}
type: {text: "\n }", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n}, iris.path.welcome);", delay: 10}
tooltip: {wait: 4000, text: 'We just notify the event passing the filter value', pos: "5:10"}
tooltip: {wait: 4000, text: 'The filter value is retrieved from the QueryString passed to the \"awake\" method', pos: "5:37"}
run: {command: "selectAll", beforeDelay: 0}
type: {text: "//In todo_item.js"} ::: todo_item.js
type: {text: "\niris.ui(function(self) {", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n self.create = function() {", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n  self.on('filter-todos', onFilter);", delay: 10}
type: {text: "\n  ...", delay: 10}
type: {text: "\n }", delay: 10}
type: {text: "\n ...", delay: 10}
type: {text: "\n}, iris.path.todo_item);", delay: 10}
moveTo: {pos: "8:0"}
type: {text: "\n", delay: 10}
run: {command: "goLineUp", beforeDelay: 0}
type: {text: "\n function onFilter (filter) {"}
type: {text: "\n  ..."}
type: {text: "\n }"}
tooltip: {wait: 4000, text: 'The \"onFilter()\" hides or shows the todo acording to the filter value and the completed state', pos: "9:9"}
</textarea>
    </section>
   </div>

  </div> <!-- #reveal -->

  <script src="scripts/head.min.js"></script>
  <script src="scripts/reveal.min.js"></script>
  <script src="scripts/main.js"></script>

  <script>

   // Full list of configuration options available here:
   // https://github.com/hakimel/reveal.js#configuration
   Reveal.initialize({
    controls: true,
    progress: false,
    history: true,
    center: true,

    theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
    transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

    // Optional libraries used to extend on reveal.js
    dependencies: [
     { src: 'scripts/classList.js', condition: function() { return !document.body.classList; } },
     { src: 'scripts/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
     { src: 'scripts/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
     { src: 'scripts/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
     { src: 'scripts/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
     { src: 'scripts/notes.js', async: true, condition: function() { return !!document.body.classList; } }
     // { src: 'scripts/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
    ]
   });

  </script>
 </body>
</html>
